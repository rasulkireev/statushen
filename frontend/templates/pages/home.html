{% extends "base.html" %}

{% block content %}
<div class="isolate relative px-6 mt-16 sm:mt-24 lg:px-8">
  <div class="isolate relative px-6 mt-16 sm:mt-24 lg:px-8">
    {% if user.is_authenticated and user_projects %}
        <!-- Projects Section -->
        <div class="mx-auto max-w-4xl text-center">
          <div class="p-6 -mt-16 mb-8">
            <h1 class="mx-auto mb-6 max-w-2xl text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl"">Your Projects</h1>
            {% include 'components/projects_list.html' with user_projects=user_projects %}
            <div class="mt-6">
              <a href="{% url 'create-project' %}" class="inline-flex justify-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md border border-transparent shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                Create New Project
              </a>
            </div>
          </div>
        </div>
        <!-- End of Projects Section -->
    {% else %}
    <div class="mx-auto text-center">
        <h1 class="mx-auto mb-6 max-w-2xl text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl">
          Don't Let Downtime Ruffle Your Feathers!
        </h1>
        <div class="flex flex-col gap-x-6 justify-center items-center mt-10 md:flex-row md:items-end">
          {% if user.is_authenticated %}
            <a
              class="block px-3 py-2 text-sm font-semibold text-white bg-indigo-600 rounded-md shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
              href="{% url 'create-project' %}"
            >
              Create Project
            </a>
          {% else %}
            <a
              class="block px-3 py-2 text-sm font-semibold text-white bg-indigo-600 rounded-md shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
              href="{% url 'account_signup' %}"
            >
              Get Started
            </a>
          {% endif %}
        </div>
    </div>
    {% endif %}
  </div>
</div>

{% if show_confetti %}
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
<script>
  confetti({
    particleCount: 100,
    spread: 70,
    origin: { y: 0.6 }
  });
</script>
{% endif %}

{% endblock content %}
